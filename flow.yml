IUCN-download:
  type: "download"
  author:
    - ae491
  synopsis: "Download IUCN data from website"
  outputs:
    - IUCN raw data

IUCN-importer:
  type: "program"
  author:
    - mb
  inputs:
    - IUCN raw data
  synopsis: "Takes raw IUCN bulk download and turns it to gpkg"
  outputs:
    - IUCN refined data

IUCN-filter:
  type: "program"
  synopsis: "filter the cleaned up IUCN data for the actual experiment"
  author:
    - ae491
    - mwd24
  inputs:
    - IUCN refined data
  outputs:
    - IUCN experiment data

"habitat":
  type: "group"
  children:
    habitat-download-current:
      type: "download"
      author:
        - ae491
      ninputs:
        - experiment-config
      outputs:
        - habitat-map-current

    habitat-download-historic:
      type: "download"
      author:
        - ae491
      ninputs:
        - experiment-config
      outputs:
        - habitat-map-historic

    habitat-generate-restore:
      type: "program"
      author:
        - ae491
      inputs:
        - habitat-map-current
      outputs:
        - habitat-map-restore

    habitat-generate-arable:
      type: "program"
      author:
        - ae491
      inputs:
        - habitat-map-current
      outputs:
        - habitat-map-arable

area-download:
  type: "download"
  author:
    - ae491
  outputs:
    - area-file

area-data-optimize:
  type: "program"
  author:
    - mwd24
  inputs:
    - area-file
  outputs:
    - tiny-area-file

elevation-download:
  type: "download"
  author:
    - ae491
  outputs:
    - elevation-map



"AoH calc":
  type: "group"
  children:

      speciesgenerator.py:
        type: "program"
        author:
          - mwd24
        synopsis: "Generates the species/seasonality list per project."
        inputs:
          - IUCN experiment data
        outputs:
          - species-season-job-list

      "aohcalc.py current_L1L2":
        type: "littlejohn"
        name: "aohcalc.py"
        author:
          - mwd24
        synopsis: "Generates raster of area oh habitat per species/seasonality"
        inputs:
          - elevation-map
          - habitat-map-current
          - IUCN experiment data
          - tiny-area-file
          - species-season-job-list
        outputs:
          - "AoH-raster current_L1L2*"

      "aohcalc.py PNV":
        type: "littlejohn"
        name: "aohcalc.py"
        author:
          - mwd24
        synopsis: "Generates raster of area oh habitat per species/seasonality"
        inputs:
          - elevation-map
          - habitat-map-historic
          - IUCN experiment data
          - tiny-area-file
          - species-season-job-list
        outputs:
          - "AoH PNV CSV"

      "aohcalc.py arable":
        type: "littlejohn"
        name: "aohcalc.py"
        author:
          - mwd24
        synopsis: "Generates raster of area oh habitat per species/seasonality"
        inputs:
          - elevation-map
          - habitat-map-arable
          - IUCN experiment data
          - tiny-area-file
          - species-season-job-list
        outputs:
          - "AoH-raster arable*"

      "aohcalc.py restore":
        type: "littlejohn"
        name: "aohcalc.py"
        author:
          - mwd24
        synopsis: "Generates raster of area oh habitat per species/seasonality"
        inputs:
          - elevation-map
          - habitat-map-restore
          - IUCN experiment data
          - tiny-area-file
          - species-season-job-list
        outputs:
          - "AoH-raster restore*"


      "downsample.py current_L1L2":
        type: "program"
        name: "downsample.py"
        author:
          - mwd24
        synopsis: "Takes the Jung scale rasters and reduces them to 1 arc minute"
        inputs:
          - "AoH-raster current_L1L2"
        outputs:
          - "AoH-small-raster current_L1L2*"

      "downsample.py restore":
        type: "program"
        name: "downsample.py"
        author:
          - mwd24
        synopsis: "Takes the Jung scale rasters and reduces them to 1 arc minute"
        inputs:
          - "AoH-raster restore"
        outputs:
          - "AoH-small-raster restore*"

      "downsample.py arable":
        type: "program"
        name: "downsample.py"
        author:
          - mwd24
        synopsis: "Takes the Jung scale rasters and reduces them to 1 arc minute"
        inputs:
          - "AoH-raster arable"
        outputs:
          - "AoH-small-raster arable*"



"final":
  type: "groups"
  names:
    - "z=0.1"
    - "z=0.25"
    - "z=0.5"
    - "z=1.0"
    - "z=gompertz"
  children:
    "gcrgen.py arable":
      type: "program"
      name: "gcrgen.py"
      author:
        - tsb42
      inputs:
        - "AoH-small-raster arable"
      outputs:
        - deltap-job-list-arable

    "gcrgen.py restore":
      type: "program"
      name: "gcrgen.py"
      author:
        - tsb42
      inputs:
        - "AoH-small-raster restore"
      outputs:
        - deltap-job-list-restore

    "generate-difference-tifs arable":
      type: "littlejohn"
      author:
        - mwd24
        - ae491
        - tsb42
      inputs:
        - deltap-job-list-arable
        - "AoH-small-raster arable"
        - "AoH-small-raster current_L1L2"
        - "AoH PNV CSV"
      outputs:
        - "per-species-delta-p-tif arable*"

    "generate-difference-tifs restore":
      type: "littlejohn"
      author:
        - mwd24
        - ae491
        - tsb42
      inputs:
        - deltap-job-list-restore
        - "AoH-small-raster restore"
        - "AoH-small-raster current_L1L2"
        - "AoH PNV CSV"
      outputs:
        - "per-species-delta-p-tif restore*"

    "generate-deltap-per-taxa":
      type: "program"
      synopsis: "aka raster_sum.py"
      inputs:
        - "per-species-delta-p-tif arable"
      outputs:
        - delta-p-per-taxa-arable.tif

    "generate-deltap-per-taxa":
      type: "program"
      synopsis: "aka raster_sum.py"
      inputs:
        - "per-species-delta-p-tif restore"
      outputs:
        - delta-p-per-taxa-restore.tif
